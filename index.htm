<!DOCTYPE html>
<html>
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script>
    var graphHeight=100;
    var graphMargin=10;
    var graphWidth=400;
    var peerScoresHeight=50;
    var peerScoresMargin=10;
    var peerScoresMaxWidth=graphWidth-(2*peerScoresMargin);
    var maxRange=10;
    var data = [
      {peerScores: [3,6,7], selfScore: 7, managerScore: 8},
      {peerScores: [4,5,5], selfScore: 2, managerScore: 3}
    ];
    $(function() {
      start();
    });
    function start() {
      var group = d3.select('svg')
        .selectAll('rect')
        .data(data)
        .enter()
        .append('g')
        .attr('transform',function(d,i) {return 'translate('+(graphMargin)+', '+(((i+1)*graphMargin)+i*graphHeight)+')';})
        .append('rect')
        .attr('height', graphHeight)
        .attr('width', graphWidth)
        .style('stroke','#aaaaaa')
        .style('fill','#eeeeee')
        .style('margin',graphMargin);

      var graphs = d3.selectAll('g');

      graphs
        .append('rect')
        .attr('height',peerScoresHeight)
        .attr('width', function(d,i) {
          return (d3.max(d.peerScores) - d3.min(d.peerScores)) * peerScoresMaxWidth / maxRange;
        } )
        .attr('transform',function(d,i) {return 'translate('+((d3.min(d.peerScores)*peerScoresMaxWidth / maxRange)+peerScoresMargin)+','+((graphHeight - peerScoresHeight)/2)+')'})
        .style('fill','blue')
    }
  </script>
</head>
<body>
   <div id="Reviews">
   <svg style="width: 500px; height: 500px; border: 1px black solid;" />
   </div>
</body>
</html>
